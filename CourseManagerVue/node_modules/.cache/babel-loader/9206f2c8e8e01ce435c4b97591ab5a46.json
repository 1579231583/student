{"remainingRequest":"D:\\springboot-project\\student-management\\CourseManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\springboot-project\\student-management\\CourseManagerVue\\src\\common\\ajax.js","dependencies":[{"path":"D:\\springboot-project\\student-management\\CourseManagerVue\\src\\common\\ajax.js","mtime":1761146754604},{"path":"D:\\springboot-project\\student-management\\CourseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761146641288},{"path":"D:\\springboot-project\\student-management\\CourseManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1761146630070}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBDb25maWcgZnJvbSAiLi9jb25maWciOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgRWxlbWVudFVJIGZyb20gImVsZW1lbnQtdWkiOwpleHBvcnQgdmFyIHZ1ZUluc3RhbmNlID0gewogIGluc3RhbmNlOiBudWxsLAogIHN0b3JlOiBudWxsCn07CnZhciBydW5uaW5nUmVxdWVzdCA9IDA7CgpmdW5jdGlvbiBhZGRSZXF1ZXN0Q291bnQoKSB7CiAgcnVubmluZ1JlcXVlc3QrKzsKCiAgaWYgKHJ1bm5pbmdSZXF1ZXN0ID4gMCAmJiB2dWVJbnN0YW5jZS5zdG9yZSAhPSBudWxsKSB7CiAgICB2dWVJbnN0YW5jZS5zdG9yZS5zdGF0ZS5sb2FkaW5nID0gdHJ1ZTsKICB9Cn0KCmZ1bmN0aW9uIHN1YnRyYWN0UmVxdWVzdENvdW50KCkgewogIHJ1bm5pbmdSZXF1ZXN0LS07CgogIGlmIChydW5uaW5nUmVxdWVzdCA8PSAwICYmIHZ1ZUluc3RhbmNlLnN0b3JlICE9IG51bGwpIHsKICAgIHZ1ZUluc3RhbmNlLnN0b3JlLnN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICB9Cn0KCmZ1bmN0aW9uIGlubmVyTWVzc2FnZSh0eXBlLCBtZXNzYWdlKSB7CiAgRWxlbWVudFVJLk1lc3NhZ2UoewogICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgZHVyYXRpb246IDIwMDAsCiAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgdHlwZTogdHlwZQogIH0pOwp9Cgp2YXIgYXhpb3NJbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogQ29uZmlnLmJhY2tFbmRVcmwsCiAgdGltZW91dDogMzAwMDAsCiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCn0pOwpheGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkKSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9CgogIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogIHN1YnRyYWN0UmVxdWVzdENvdW50KCk7CiAgcmV0dXJuIGRhdGE7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGlmIChlcnJvci5yZXNwb25zZSA9PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIk5ldHdvcmsgRXJyb3IiKSk7CiAgfQoKICB2YXIgY29kZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuY29kZTsKICB2YXIgbWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICB2YXIgZGF0YSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZGF0YTsKICBzdWJ0cmFjdFJlcXVlc3RDb3VudCgpOwoKICBpZiAoY29kZSA9PT0gLTEpIHsKICAgIGlubmVyTWVzc2FnZSgiaW5mbyIsICLpnIDopoHnmbvlvZUiKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiL2xvZ2luIjsKICAgIH0sIDI1MCk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJOT19MT0dJTiIpKTsKICB9IGVsc2UgaWYgKGNvZGUgPT09IDEpIHsKICAgIGlubmVyTWVzc2FnZSgiZXJyb3IiLCAi6ZSZ6K+vOiAiICsgbWVzc2FnZSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJGQUlMIikpOwogIH0gZWxzZSBpZiAoY29kZSA9PT0gMikgewogICAgaW5uZXJNZXNzYWdlKCJpbmZvIiwgIuaCqOS4jeaYr+atpOinkuiJsiIpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvbG9naW4iOwogICAgfSwgMjUwKTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIkVSUk9SX1JPTEUiKSk7CiAgfSBlbHNlIGlmIChjb2RlID09PSAzKSB7CiAgICBpbm5lck1lc3NhZ2UoImluZm8iLCAi5oKo5rKh5pyJ5q2k5p2D6ZmQIik7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi9sb2dpbiI7CiAgICB9LCAyNTApOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiTk9fUEVSTUlTU0lPTiIpKTsKICB9IGVsc2UgaWYgKGNvZGUgPT09IDQpIHsKICAgIHZhciBlcnJvck1lc3NhZ2UgPSAi6K+35rGC5Y+C5pWw6ZSZ6K+vIjsKCiAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgIGVycm9yTWVzc2FnZSA9ICLlj4LmlbDplJnor686ICIgKyBkYXRhWzBdLm1lc3NhZ2U7CiAgICB9CgogICAgaW5uZXJNZXNzYWdlKCJlcnJvciIsIGVycm9yTWVzc2FnZSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJJTlZBTElEX1BBUkFNRVRFUiIpKTsKICB9IGVsc2UgaWYgKGNvZGUgPT09IDEwKSB7CiAgICBpbm5lck1lc3NhZ2UoImVycm9yIiwgIuWGhemDqOacjeWKoeWZqOmUmeivryIpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiSU5URVJOQUxfU0VSVkVSX0VSUk9SIikpOwogIH0KCiAgaWYgKHR5cGVvZiBlcnJvci5yZXNwb25zZSA9PT0gInVuZGVmaW5lZCIpIHsKICAgIGlubmVyTWVzc2FnZSgiZXJyb3IiLCAi5LiO5ZCO56uv5pyN5Yqh5Zmo6YCa5L+h5aSx6LSlIik7CiAgICB2dWVJbnN0YW5jZS5pbnN0YW5jZS4kcm91dGVyLnB1c2goewogICAgICBuYW1lOiAibG9naW4iCiAgICB9KTsKICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA+PSA0MDApIHsKICAgIGlubmVyTWVzc2FnZSgiZXJyb3IiLCAi5pyN5Yqh5Zmo5byC5bi4Iik7CiAgfQoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKCnZhciBkYXRhSGFuZGxlID0gZnVuY3Rpb24gZGF0YUhhbmRsZShyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZTsKfTsKCnZhciBpbm5lckdldCA9IGZ1bmN0aW9uIGlubmVyR2V0KCkgewogIGFkZFJlcXVlc3RDb3VudCgpOwogIHJldHVybiBheGlvc0luc3RhbmNlLmdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpLnRoZW4oZGF0YUhhbmRsZSk7Cn07Cgp2YXIgaW5uZXJQb3N0ID0gZnVuY3Rpb24gaW5uZXJQb3N0KCkgewogIGFkZFJlcXVlc3RDb3VudCgpOwogIHJldHVybiBheGlvc0luc3RhbmNlLnBvc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKS50aGVuKGRhdGFIYW5kbGUpOwp9OwoKdmFyIGlubmVyRGVsZXRlID0gZnVuY3Rpb24gaW5uZXJEZWxldGUoKSB7CiAgYWRkUmVxdWVzdENvdW50KCk7CiAgcmV0dXJuIGF4aW9zSW5zdGFuY2UuZGVsZXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykudGhlbihkYXRhSGFuZGxlKTsKfTsKCnZhciBpbm5lclB1dCA9IGZ1bmN0aW9uIGlubmVyUHV0KCkgewogIGFkZFJlcXVlc3RDb3VudCgpOwogIHJldHVybiBheGlvc0luc3RhbmNlLnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpLnRoZW4oZGF0YUhhbmRsZSk7Cn07CgpleHBvcnQgdmFyIHB1cmVHZXQgPSBmdW5jdGlvbiBwdXJlR2V0KHVybCkgewogIHJldHVybiBpbm5lckdldCh1cmwpOwp9OwpleHBvcnQgdmFyIHB1cmVEZWxldGUgPSBmdW5jdGlvbiBwdXJlRGVsZXRlKHVybCkgewogIHJldHVybiBpbm5lckRlbGV0ZSh1cmwpOwp9OwpleHBvcnQgdmFyIGdldCA9IGZ1bmN0aW9uIGdldCh1cmwsIHBhcmFtcykgewogIHJldHVybiBpbm5lckdldCh1cmwsIHsKICAgIHBhcmFtczogcGFyYW1zCiAgfSk7Cn07CmV4cG9ydCB2YXIgcG9zdCA9IGZ1bmN0aW9uIHBvc3QodXJsLCBkYXRhKSB7CiAgcmV0dXJuIGlubmVyUG9zdCh1cmwsIGRhdGEsIHsKICAgIGhlYWRlcnM6IHsKICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgfQogIH0pOwp9OwppbXBvcnQgIi4vaW5pdGlhbGl6ZSI7CmV4cG9ydCB2YXIgZGVsID0gZnVuY3Rpb24gZGVsKHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGlubmVyRGVsZXRlKHVybCwgewogICAgcGFyYW1zOiBwYXJhbXMKICB9KTsKfTsKZXhwb3J0IHZhciBwdXQgPSBmdW5jdGlvbiBwdXQodXJsLCBkYXRhKSB7CiAgcmV0dXJuIGlubmVyUHV0KHVybCwgZGF0YSwgewogICAgaGVhZGVyczogewogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICB9CiAgfSk7Cn07"},{"version":3,"sources":["D:/springboot-project/student-management/CourseManagerVue/src/common/ajax.js"],"names":["Config","axios","ElementUI","vueInstance","instance","store","runningRequest","addRequestCount","state","loading","subtractRequestCount","innerMessage","type","message","Message","showClose","duration","axiosInstance","create","baseURL","backEndUrl","timeout","withCredentials","interceptors","response","use","data","undefined","error","Promise","reject","Error","code","setTimeout","window","location","href","errorMessage","length","$router","push","name","status","dataHandle","innerGet","get","apply","arguments","then","innerPost","post","innerDelete","delete","innerPut","put","pureGet","url","pureDelete","params","headers","del"],"mappings":"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","sourcesContent":["import Config from \"./config\";\nimport axios from \"axios\";\nimport ElementUI from \"element-ui\";\n\nexport const vueInstance = {\n  instance: null,\n  store: null\n};\n\nlet runningRequest = 0;\n\nfunction addRequestCount() {\n  runningRequest++;\n  if (runningRequest > 0 && vueInstance.store != null) {\n    vueInstance.store.state.loading = true;\n  }\n}\n\nfunction subtractRequestCount() {\n  runningRequest--;\n  if (runningRequest <= 0 && vueInstance.store != null) {\n    vueInstance.store.state.loading = false;\n  }\n}\n\nfunction innerMessage(type, message) {\n  ElementUI.Message({\n    showClose: true,\n    duration: 2000,\n    message: message,\n    type: type\n  });\n}\n\nconst axiosInstance = axios.create({\n  baseURL: Config.backEndUrl,\n  timeout: 30000,\n  withCredentials: true\n});\n\naxiosInstance.interceptors.response.use(\n  response => {\n    if(response.data == undefined) {\n      return response.data\n    }\n    let data = response.data.data;\n    subtractRequestCount();\n    return data;\n  },\n  error => {\n    if(error.response == undefined) {\n      return Promise.reject(new Error(\"Network Error\"));\n    }\n    let code = error.response.data.code;\n    let message = error.response.data.message;\n    let data = error.response.data.data;\n    subtractRequestCount();\n\n    if (code === -1) {\n      innerMessage(\"info\", \"需要登录\");\n      setTimeout(() => (window.location.href = \"/login\"), 250);\n      return Promise.reject(new Error(\"NO_LOGIN\"));\n    } else if (code === 1) {\n      innerMessage(\"error\", \"错误: \" + message);\n      return Promise.reject(new Error(\"FAIL\"));\n    } else if (code === 2) {\n      innerMessage(\"info\", \"您不是此角色\");\n      setTimeout(() => (window.location.href = \"/login\"), 250);\n      return Promise.reject(new Error(\"ERROR_ROLE\"));\n    } else if (code === 3) {\n      innerMessage(\"info\", \"您没有此权限\");\n      setTimeout(() => (window.location.href = \"/login\"), 250);\n      return Promise.reject(new Error(\"NO_PERMISSION\"));\n    } else if (code === 4) {\n      let errorMessage = \"请求参数错误\";\n      if (data.length > 0) {\n        errorMessage = \"参数错误: \" + data[0].message;\n      }\n      innerMessage(\"error\", errorMessage);\n      return Promise.reject(new Error(\"INVALID_PARAMETER\"));\n    } else if (code === 10) {\n      innerMessage(\"error\", \"内部服务器错误\");\n      return Promise.reject(new Error(\"INTERNAL_SERVER_ERROR\"));\n    }\n\n    if (typeof error.response === \"undefined\") {\n      innerMessage(\"error\", \"与后端服务器通信失败\");\n      vueInstance.instance.$router.push({ name: \"login\" });\n    } else if (error.response.status >= 400) {\n      innerMessage(\"error\", \"服务器异常\");\n    }\n    return Promise.reject(error);\n  }\n);\n\nconst dataHandle = response => {\n  return response;\n};\n\nconst innerGet = function() {\n  addRequestCount();\n  return axiosInstance.get.apply(this, arguments).then(dataHandle);\n};\n\nconst innerPost = function() {\n  addRequestCount();\n  return axiosInstance.post.apply(this, arguments).then(dataHandle);\n};\n\nconst innerDelete = function() {\n  addRequestCount();\n  return axiosInstance.delete.apply(this, arguments).then(dataHandle);\n};\n\nconst innerPut = function() {\n  addRequestCount();\n  return axiosInstance.put.apply(this, arguments).then(dataHandle);\n};\n\nexport const pureGet = function(url) {\n  return innerGet(url);\n};\n\nexport const pureDelete = function(url) {\n  return innerDelete(url);\n};\n\nexport const get = function(url, params) {\n  return innerGet(url, {\n    params: params\n  });\n};\n\nexport const post = function(url, data) {\n  return innerPost(url, data, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n};\nimport \"./initialize\"\nexport const del = function(url, params) {\n  return innerDelete(url, {\n    params: params\n  });\n};\n\nexport const put = function(url, data) {\n  return innerPut(url, data, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n};\n"]}]}